# üå± Seed Scripts - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

Scripts ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏•‡∏á Firestore ‡πÅ‡∏ö‡∏ö‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô

## üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Scripts

1. **seed-companies.ts** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (Companies)
2. **seed-branches.ts** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏Ç‡∏≤ (Branches)
3. **seed-products.ts** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Products)

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (Companies)

```bash
npm run seed:companies
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

```
‚úÖ Company created: PrimaNest (PRIMA)
   Document ID: abc123xyz789

‚úÖ Company created: FITT Corporation (FITT)
   Document ID: def456uvw012
```

**‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Company ID ‡πÑ‡∏ß‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ!**

---

### 2Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏Ç‡∏≤ (Branches)

```bash
npm run seed:branches -- <company-id>
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**

```bash
npm run seed:branches -- abc123xyz789
```

**‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á:**

- 966 - ‡πÇ‡∏£‡∏ö‡∏¥‡∏ô‡∏™‡∏±‡∏ô‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ
- 458 - ‡πÇ‡∏•‡∏ï‡∏±‡∏™‡∏ó‡πà‡∏≤‡∏¢‡∏≤‡∏á
- 603 - ‡∏ü‡∏¥‡∏ß‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏≤‡∏£‡πå‡∏Ñ
- 774 - ‡πÇ‡∏•‡∏ï‡∏±‡∏™‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï
- 735 - ‡πÇ‡∏•‡∏ï‡∏±‡∏™‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ
- 673 - ‡πÇ‡∏•‡∏ï‡∏±‡∏™‡πÅ‡∏à‡πâ‡∏á‡∏ß‡∏±‡∏ï‡∏ô‡∏∞

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

```
‚úÖ Branch created: ‡πÇ‡∏£‡∏ö‡∏¥‡∏ô‡∏™‡∏±‡∏ô‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ (966)
   Document ID: branch-id-001
   Phone: 034-512-345
   Region: West
```

---

### 3Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Products)

```bash
npm run seed:products -- <company-id>
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**

```bash
npm run seed:products -- abc123xyz789
```

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå:** `admin-web/all_prod_2026.json`

**Features:**

- ‚úÖ Import ‡∏à‡∏≤‡∏Å JSON file
- ‚úÖ Skip ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥)
- ‚úÖ Batch write (500 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á - ‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å!)
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á progress realtime
- ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏≤‡∏° category

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

```
   Progress: 112/112 (100%) - Created: 112

üìä Summary:
   Company: PrimaNest (PRIMA)
   ‚úÖ Created: 112
   ‚è≠Ô∏è  Skipped: 0
   ‚ùå Errors: 0

üìä Products by category:
   SK: 45 products
   AW: 30 products
   TH: 25 products
   ...
```

---

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°

```bash
# 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó
npm run seed:companies
# ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Company ID: abc123xyz789

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ô‡∏±‡πâ‡∏ô
npm run seed:branches -- abc123xyz789

# 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ô‡∏±‡πâ‡∏ô
npm run seed:products -- abc123xyz789
```

---

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ (‡πÅ‡∏¢‡∏Å Scripts)

- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ô **‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô** ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- **‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥** - check ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô**‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö**‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó** (‡∏™‡∏£‡πâ‡∏≤‡∏á products ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° company)

### üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°

**‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ô seed:products ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:**

- ‡πÑ‡∏ü‡∏•‡πå `admin-web/all_prod_2026.json` ‚úÖ (‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß)
- Format:

```json
[
  {
    "itemCode": "SK-001",
    "description": "Product Name",
    "barcode": "1234567890123",
    "sellerCode": "SELL-001"
  }
]
```

### üîê Environment Variables

‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `.env`:

```bash
EXPO_PUBLIC_FIREBASE_PROJECT_ID=fittbsa
EXPO_PUBLIC_FIRESTORE_DATABASE_ID=fittsuperapp-dev
```

‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå: `fittbsa-798ba3e87223.json` (Service Account)

---

## üéØ ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà?

### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏´‡∏°‡πà

```bash
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç companies ‡πÉ‡∏ô seed-companies.ts ‡∏Å‡πà‡∏≠‡∏ô
npm run seed:companies
```

### ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà

```bash
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç branches ‡πÉ‡∏ô seed-branches.ts ‡∏Å‡πà‡∏≠‡∏ô
npm run seed:branches -- <company-id>
```

### Import ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà

```bash
# ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå all_prod_2026.json ‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô
npm run seed:products -- <company-id>
```

---

## üêõ Troubleshooting

### ‚ùå Error: "Service account file not found"

**‡πÅ‡∏Å‡πâ:** ‡πÉ‡∏´‡πâ copy `fittbsa-798ba3e87223.json` ‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà project root

### ‚ùå Error: "Company not found"

**‡πÅ‡∏Å‡πâ:** ‡∏£‡∏±‡∏ô `npm run seed:companies` ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ Company ID ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ

### ‚ùå Error: "Products file not found"

**‡πÅ‡∏Å‡πâ:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ `admin-web/all_prod_2026.json` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### ‚ö†Ô∏è Skip ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Skipped: 112)

**‡∏õ‡∏Å‡∏ï‡∏¥:** ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà

---

## üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á

### Companies Collection

```
companies/
  - abc123xyz789/
      code: "PRIMA"
      name: "PrimaNest"
      phone: "02-123-4567"
      email: "contact@primanest.com"
      status: "active"
```

### Branches Collection

```
branches/
  - branch-id-001/
      companyId: "abc123xyz789"
      code: "966"
      name: "‡πÇ‡∏£‡∏ö‡∏¥‡∏ô‡∏™‡∏±‡∏ô‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ"
      region: "West"
      status: "active"
```

### Products Collection

```
products/
  - product-doc-id/
      productId: "SK-001"
      name: "Product Name"
      barcode: "1234567890123"
      companyId: "abc123xyz789"
      category: "SK"
      status: "active"
```

---

## üîó Script ‡∏´‡∏•‡∏±‡∏Å (seed-data.ts)

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **seed ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô** (companies, branches, products, users, assignments):

```bash
npm run seed
```

**‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:** Script ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á:

- 1 Company
- 6 Branches
- 112 Products
- 1 Supervisor + 6 Employees
- 6 Assignments (all products to all employees)

‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô **setup ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å** ‡∏´‡∏£‡∏∑‡∏≠ **reset ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î**

---

## üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠

‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°? ‡πÅ‡∏à‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤!
