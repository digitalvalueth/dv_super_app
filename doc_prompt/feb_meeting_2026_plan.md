# ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° 24 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569 (2026)

> ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡πâ‡∏ß ‚Äî ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤
> ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: 2 ‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° 2026

---

## ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° (Executive Summary)

‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 24/02/2569 ‡∏°‡∏µ‡∏á‡∏≤‡∏ô **15 ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å** ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô:

| ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó                              | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á                                         |
| ----------------------------------- | ----- | ------------------------------------------------ |
| üî® ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÉ‡∏´‡∏°‡πà (New Feature)          | 8     | ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö, Prompt Management, Grace period      |
| üîß ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (Enhancement)           | 4     | Block save barcode, Export Excel ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô, ‡πÅ‡∏Å‡πâ‡∏¢‡∏≠‡∏î |
| üìã ‡∏£‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (Pending Data) | 3     | ‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤/‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô, Format ITP        |

---

## Gap Analysis ‚Äî ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß vs ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥

| #   | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£                           | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô                                  | ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥                                | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å    |
| --- | ------------------------------------- | ---------------------------------------------- | -------------------------------------------- | ---------- |
| 1   | ‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‚Äî ‡∏Ç‡∏≠‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢ | ‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö Product + imageUrl                      | ‡∏£‡∏≠‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢ ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Firestore         | ‚≠ê         |
| 2   | ‡∏Ç‡∏≠ Email BA ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î                   | ‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö User + Invitation                       | ‡∏£‡∏≠ Email ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢ ‡πÅ‡∏•‡πâ‡∏ß seed ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö       | ‚≠ê         |
| 3   | ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ 2 ‡∏ä‡πà‡∏ß‡∏á + Lock 2 ‡∏ß‡∏±‡∏ô           | ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö Period/Lock                       | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö Counting Period + Upload Lock      | ‚≠ê‚≠ê‚≠ê‚≠ê   |
| 4   | Export Excel ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô (‡∏•‡∏≤/‡∏™‡∏≤‡∏¢)         | ‚ùå ‡∏´‡∏ô‡πâ‡∏≤ Attendance ‡∏î‡∏π‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß                | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° Export + ‡∏™‡∏£‡πâ‡∏≤‡∏á Excel template      | ‚≠ê‚≠ê       |
| 5   | ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ ITP Portal (SQL)            | ‡∏°‡∏µ scaffold ‡πÉ‡∏ô external-api.service.ts         | ‡∏™‡∏£‡πâ‡∏≤‡∏á ITP Connector (‡∏£‡∏≠ format ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢)   | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| 6   | ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô BA ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô         | ‡∏°‡∏µ notification service ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ auto-detect   | ‡∏™‡∏£‡πâ‡∏≤‡∏á Cloud Function cron + alert ‡∏´‡∏ô‡πâ‡∏≤ web   | ‚≠ê‚≠ê‚≠ê     |
| 7   | ‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏ã‡∏ü                 | ‚ö†Ô∏è ‡∏°‡∏µ warning ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÄ‡∏ã‡∏ü‡πÑ‡∏î‡πâ                     | Block save button ‡πÄ‡∏°‡∏∑‡πà‡∏≠ barcodeMatch = false | ‚≠ê         |
| 8   | ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 100+ ‡∏ä‡∏¥‡πâ‡∏ô ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏á         | ‡∏ñ‡πà‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡∏•‡∏∞‡∏£‡∏π‡∏õ                                 | ‡∏£‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢‡πÅ‡∏à‡πâ‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Üí ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö multi-photo     | ‚≠ê‚≠ê‚≠ê     |
| 9   | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î‡∏ô‡∏±‡∏ö‡∏ö‡∏ô Web                     | ‡∏°‡∏µ dispute ‡∏à‡∏≤‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‡πÅ‡∏ï‡πà Supervisor ‡πÅ‡∏Å‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ | ‡πÄ‡∏û‡∏¥‡πà‡∏° Edit/Override ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ counting-summary | ‚≠ê‚≠ê‚≠ê     |
| 10  | Grace period +5 ‡∏ß‡∏±‡∏ô (‡∏•‡∏±‡∏ö)             | ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ                                       | ‡∏™‡∏£‡πâ‡∏≤‡∏á hidden grace period logic              | ‚≠ê‚≠ê‚≠ê     |
| 11  | ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤/‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/Supervisor ‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á  | ‡∏°‡∏µ seed script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 6 ‡∏™‡∏≤‡∏Ç‡∏≤                   | ‡∏£‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á import script           | ‚≠ê‚≠ê       |
| 12  | Export ‡∏ï‡∏≤‡∏° ITP format                 | ‡∏°‡∏µ export-utils.ts + export-with-images.ts     | ‡∏™‡∏£‡πâ‡∏≤‡∏á template ‡∏ï‡∏≤‡∏° format ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢‡∏™‡πà‡∏á      | ‚≠ê‚≠ê‚≠ê     |
| 13  | ‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏•‡∏±‡∏á submit                  | ‚ùå submit ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏ö                               | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö "Supplement Count" / ‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°     | ‚≠ê‚≠ê‚≠ê     |
| 14  | Prompt Management (Remote)            | ‚ùå prompt hardcoded ‡πÉ‡∏ô gemini.service.ts       | ‡∏™‡∏£‡πâ‡∏≤‡∏á Prompt Manager ‡πÉ‡∏ô Firestore + Admin UI | ‚≠ê‚≠ê‚≠ê‚≠ê   |
| 15  | Project ‡πÉ‡∏´‡∏°‡πà upload ‡∏ö‡∏¥‡∏•               | ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ                                       | ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Bill Upload module (Phase ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)      | ‚≠ê‚≠ê‚≠ê‚≠ê   |

---

## ‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏ï‡∏≤‡∏° Phase

### Phase 1: Quick Wins ‚Äî ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (1-2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)

#### 1.1 ‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‚Üí ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏ã‡∏ü

- **‡πÑ‡∏ü‡∏•‡πå**: `app/(mini-apps)/stock-counter/result.tsx`
- **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `barcodeMatch` ‡πÉ‡∏ô counting session ‚Üí ‡∏ñ‡πâ‡∏≤ `false` ‡∏´‡∏£‡∏∑‡∏≠ status = `"mismatch"` ‚Üí disable ‡∏õ‡∏∏‡πà‡∏° "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•" + ‡πÅ‡∏™‡∏î‡∏á warning ‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà
- **Logic**:
  ```typescript
  // ‡πÉ‡∏ô result.tsx
  const canSave =
    session?.barcodeMatch !== false && session?.status !== "mismatch";
  // ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å disabled={!canSave}
  ```
- **‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 2-4 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

#### 1.2 Export Excel ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô

- **‡πÑ‡∏ü‡∏•‡πå**: `platform-web/app/stock-counter/dashboard/attendance/page.tsx`
- **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° "Export Excel" ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á function ‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• check-in/check-out ‡∏ï‡∏≤‡∏° filter ‚Üí export ‡πÄ‡∏õ‡πá‡∏ô .xlsx
- **Columns ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ**: ‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô, ‡∏™‡∏≤‡∏Ç‡∏≤, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤, ‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡∏õ‡∏Å‡∏ï‡∏¥/‡∏™‡∏≤‡∏¢/‡∏•‡∏≤), ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏¢
- **‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö**: 24:00 ‡∏ô. (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏£‡∏∞‡∏ö‡∏∏)
- **‡πÉ‡∏ä‡πâ**: `xlsx` ‡∏´‡∏£‡∏∑‡∏≠ `exceljs` library ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô project
- **‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 1-2 ‡∏ß‡∏±‡∏ô

#### 1.3 ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤/‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/Supervisor ‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á

- **‡∏£‡∏≠**: ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
  1. ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (branch name, code, address)
  2. ‡∏ä‡∏∑‡πà‡∏≠ + Email ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô BA
  3. ‡∏ä‡∏∑‡πà‡∏≠ + Email Supervisor
  4. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå Supervisor ‚Üí BA ‚Üí ‡∏™‡∏≤‡∏Ç‡∏≤
- **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**: ‡∏™‡∏£‡πâ‡∏≤‡∏á script `scripts/seed-production-data.ts` ‡∏ó‡∏µ‡πà import ‡∏à‡∏≤‡∏Å CSV/Excel
- **‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 1 ‡∏ß‡∏±‡∏ô (‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)

---

### Phase 2: Core Features ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (2-3 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)

#### 2.1 ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö (Counting Period System)

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**:

- ‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1-15 = ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 1, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 16-‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô = ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 2)
- Lock ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ 2 ‡∏ß‡∏±‡∏ô ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡πÅ‡∏•‡∏∞ 16 (‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö)
- Grace period ‡∏•‡∏±‡∏ö +5 ‡∏ß‡∏±‡∏ô ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏¥‡πâ‡∏ô‡∏£‡∏≠‡∏ö

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á**:

##### A. Data Model ‡πÉ‡∏´‡∏°‡πà

```typescript
// types/index.ts ‚Äî ‡πÄ‡∏û‡∏¥‡πà‡∏°
interface CountingPeriod {
  id: string;
  companyId: string;
  year: number;
  month: number; // 1-12
  half: 1 | 2; // 1 = ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1-15, 2 = ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 16-‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
  startDate: Timestamp; // ‡πÄ‡∏ä‡πà‡∏ô 1 ‡∏°‡∏µ.‡∏Ñ.
  endDate: Timestamp; // ‡πÄ‡∏ä‡πà‡∏ô 15 ‡∏°‡∏µ.‡∏Ñ.
  lockDates: Timestamp[]; // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏≤‡∏° upload (1, 16)
  graceEndDate: Timestamp; // endDate + 5 ‡∏ß‡∏±‡∏ô (‡∏•‡∏±‡∏ö)
  status: "active" | "locked" | "grace" | "closed";
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô UserAssignment
interface UserAssignment {
  // ... existing fields
  periodId: string; // ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö CountingPeriod
  countingPeriodStart: Timestamp;
  countingPeriodEnd: Timestamp;
}
```

##### B. Service Layer

- **‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà**: `services/counting-period.service.ts`
- Functions:
  - `getCurrentPeriod(companyId)` ‚Üí return period ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
  - `canUploadPhoto(userId, periodId)` ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô lock date ‡πÑ‡∏´‡∏°
  - `isInGracePeriod(periodId)` ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô grace period ‡πÑ‡∏´‡∏° (‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏£‡∏π‡πâ)
  - `closePeriod(periodId)` ‚Üí ‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö + ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ ITP
  - `generatePeriods(companyId, year)` ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏õ‡∏µ

##### C. Mobile App Changes

- ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ `canUploadPhoto()` ‚Üí ‡∏ñ‡πâ‡∏≤ lock ‚Üí ‡πÅ‡∏™‡∏î‡∏á "‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß"
- **‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á grace period** ‚Üí ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ" (‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏¢ endDate) ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á accept ‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á graceEndDate
- ‡πÅ‡∏™‡∏î‡∏á badge "‡∏£‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: 1-15 ‡∏°‡∏µ.‡∏Ñ." ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ stock-counter

##### D. Web Dashboard Changes

- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤ period management ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö admin
- ‡πÅ‡∏™‡∏î‡∏á stats ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö
- **‡∏õ‡∏∏‡πà‡∏° "Request ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ß‡∏•‡∏≤"** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö supervisor (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á)

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 5-7 ‡∏ß‡∏±‡∏ô

---

#### 2.2 ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î‡∏ô‡∏±‡∏ö‡∏ö‡∏ô Web (Supervisor Override)

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**: ‡πÄ‡∏°‡∏∑‡πà‡∏≠ AI ‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ 8 ‡πÅ‡∏ï‡πà BA ‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ 11 ‚Üí Supervisor ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á**:

##### A. Data Model

```typescript
// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô CountingSession
interface CountingSession {
  // ... existing fields
  finalCount?: number; // ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà supervisor approve
  supervisorOverride?: {
    overriddenBy: string; // supervisor userId
    overriddenAt: Timestamp;
    previousCount: number; // ‡∏Ñ‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ
    newCount: number; // ‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà
    reason: string; // ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ
  };
  approvalStatus: "pending" | "approved" | "rejected";
}
```

##### B. Web UI

- **‡πÑ‡∏ü‡∏•‡πå**: `platform-web/app/stock-counter/dashboard/counting-summary/page.tsx`
- ‡πÄ‡∏û‡∏¥‡πà‡∏°:
  - ‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î" ‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ counting session
  - Modal: ‡πÅ‡∏™‡∏î‡∏á AI Count, BA Count (dispute), ‡∏ä‡πà‡∏≠‡∏á Final Count + Reason
  - ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: Pending Review ‚Üí Approved / Rejected
  - Filter ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à, ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß)

##### C. API

- `PATCH /api/counting-sessions/[id]/override` ‚Üí update finalCount + supervisorOverride

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 3-4 ‡∏ß‡∏±‡∏ô

---

#### 2.3 ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô BA ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á**:

##### A. Cloud Function (Scheduled)

```typescript
// functions/src/check-missing-checkin.ts
// ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ 09:00
// Logic:
// 1. ‡∏î‡∏∂‡∏á users ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà role = 'employee'
// 2. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ user ‚Üí query check-ins 3 ‡∏ß‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
// 3. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ check-in ‡πÄ‡∏•‡∏¢ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á notification ‡πÉ‡∏´‡πâ supervisor
// 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á notification ‡πÉ‡∏´‡πâ admin ‡∏î‡πâ‡∏ß‡∏¢
```

##### B. Web Dashboard ‚Äî ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

- **‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà**: `platform-web/app/stock-counter/dashboard/alerts/page.tsx`
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô + ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô
- Filter: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î, ‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô, ‡πÄ‡∏Å‡∏¥‡∏ô 7 ‡∏ß‡∏±‡∏ô
- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏î‡∏π‡πÅ‡∏•, ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß

##### C. Push Notification

- ‡∏™‡πà‡∏á Expo push notification ‡πÉ‡∏´‡πâ supervisor ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô
- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°: "‚ö†Ô∏è ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô [‡∏ä‡∏∑‡πà‡∏≠] ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡∏°‡∏≤ [N] ‡∏ß‡∏±‡∏ô"

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 3-4 ‡∏ß‡∏±‡∏ô

---

#### 2.4 ‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏•‡∏±‡∏á Submit (Supplement Count)

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**: ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô submit 15 ‡∏ä‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡πÄ‡∏à‡∏≠‡∏≠‡∏µ‡∏Å 1 ‡∏ä‡∏¥‡πâ‡∏ô ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ

**‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ô‡∏≠**:

##### Option A: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ" ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ History (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

- ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ `stock-counter/history/` ‚Üí ‡πÅ‡∏ï‡πà‡∏•‡∏∞ session ‡∏ó‡∏µ‡πà completed ‚Üí ‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° "‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°"
- ‡∏™‡∏£‡πâ‡∏≤‡∏á **Supplement Session** ‡∏ó‡∏µ‡πà link ‡∏Å‡∏±‡∏ö original session
- Data model:

```typescript
interface SupplementSession {
  id: string;
  originalSessionId: string; // link ‡∏Å‡∏±‡∏ö session ‡πÄ‡∏î‡∏¥‡∏°
  userId: string;
  productId: string;
  additionalCount: number;
  imageUrl: string;
  aiCount: number;
  reason: string; // "‡πÄ‡∏à‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"
  status: "pending" | "approved" | "rejected";
  createdAt: Timestamp;
}
```

- Supervisor ‡∏ï‡πâ‡∏≠‡∏á approve supplement ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏£‡∏ß‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏¢‡∏≠‡∏î
- Web dashboard ‡πÅ‡∏™‡∏î‡∏á: "‡∏¢‡∏≠‡∏î‡πÄ‡∏î‡∏¥‡∏°: 15 + ‡πÄ‡∏û‡∏¥‡πà‡∏°: 1 = ‡∏£‡∏ß‡∏°: 16"

##### Option B: Re-open Session

- ‡πÄ‡∏õ‡∏¥‡∏î session ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô "in-progress" ‚Üí ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏° ‚Üí submit ‡πÉ‡∏´‡∏°‡πà
- ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞ overwrite ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 3-4 ‡∏ß‡∏±‡∏ô

---

### Phase 3: Integration & Advanced Features (3-4 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)

#### 3.1 Prompt Management System

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô prompt ‡∏à‡∏≤‡∏Å hardcoded ‚Üí remote configuration ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å web

**‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á**:

##### A. Data Model

```typescript
interface PromptTemplate {
  id: string;
  name: string; // ‡πÄ‡∏ä‡πà‡∏ô "barcode_counting_v2"
  description: string;
  prompt: string; // ‡∏ï‡∏±‡∏ß prompt text
  modelId: string; // ‡πÄ‡∏ä‡πà‡∏ô "gemini-2.5-flash"
  version: number;
  isActive: boolean; // version ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
  platform: "mobile" | "web" | "all";
  category: "counting" | "barcode" | "product_detection";
  variables: string[]; // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô ["productName", "expectedBarcode"]
  createdBy: string;
  createdAt: Timestamp;
  updatedAt: Timestamp;
}

interface PromptUsageLog {
  id: string;
  promptId: string;
  version: number;
  userId: string;
  result: "success" | "failure";
  responseTime: number;
  createdAt: Timestamp;
}
```

##### B. Firestore Collection

- `promptTemplates/` ‚Äî ‡πÄ‡∏Å‡πá‡∏ö template ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- `promptUsageLogs/` ‚Äî log ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

##### C. Mobile Service

```typescript
// services/prompt.service.ts
class PromptService {
  // ‡∏î‡∏∂‡∏á active prompt ‡∏ï‡∏≤‡∏° category + platform
  async getActivePrompt(
    category: string,
    platform: string,
  ): Promise<PromptTemplate>;

  // cache prompt ‡πÉ‡∏ô AsyncStorage (TTL 30 ‡∏ô‡∏≤‡∏ó‡∏µ)
  async getCachedPrompt(category: string): Promise<string>;

  // log ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
  async logUsage(promptId: string, result: string, responseTime: number): void;
}
```

##### D. Web Admin UI

- **‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà**: `platform-web/app/stock-counter/dashboard/prompts/page.tsx`
- Features:
  - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ prompt ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç prompt + preview
  - A/B testing: active version vs candidate version
  - Usage stats: ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏Å‡∏µ‡πà%, ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà
  - Version history

##### E. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç gemini.service.ts

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å hardcoded prompt ‚Üí `PromptService.getActivePrompt('barcode', 'mobile')`
- Fallback: ‡∏ñ‡πâ‡∏≤ Firestore ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö ‚Üí ‡πÉ‡∏ä‡πâ hardcoded prompt ‡πÄ‡∏î‡∏¥‡∏°

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 5-7 ‡∏ß‡∏±‡∏ô

---

#### 3.2 ITP Portal Integration

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• stock count ‚Üí ITP Portal ‡∏ú‡πà‡∏≤‡∏ô SQL ‡∏´‡∏£‡∏∑‡∏≠ API

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**: ‚è≥ ‡∏£‡∏≠ format ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢

**‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£**:

##### A. ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Data Pipeline

```
[Mobile App] ‚Üí [Firestore] ‚Üí [Cloud Function] ‚Üí [Middleware API] ‚Üí [ITP SQL Database]
```

##### B. ‡∏™‡∏£‡πâ‡∏≤‡∏á Middleware (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ format)

- **‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà**: `platform-web/app/api/itp/`
  - `export/route.ts` ‚Äî ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
  - `import/route.ts` ‚Äî ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å ITP
  - `compare/route.ts` ‚Äî ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö stock

##### C. Export Template

- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢‡∏™‡πà‡∏á format ‡∏°‡∏≤ ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á export function ‡∏ó‡∏µ‡πà match ‡∏Å‡∏±‡∏ö format
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ (‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå): SKU, ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, Qty, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏™‡∏≤‡∏Ç‡∏≤, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö

##### D. ‡∏õ‡∏∏‡πà‡∏° "‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤ ITP"

- ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ counting-summary ‚Üí ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏õ‡∏∏‡πà‡∏° "‡∏™‡πà‡∏á ITP"
- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏° period ‚Üí format ‡∏ï‡∏≤‡∏° ITP ‚Üí ‡∏™‡πà‡∏á

**Action Items ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢/‡∏Ñ‡∏∏‡∏ì‡∏û‡∏≠‡∏•**:

- [ ] ‡∏™‡πà‡∏á format import ‡∏Ç‡∏≠‡∏á ITP
- [ ] ‡∏™‡πà‡∏á API endpoint ‡∏´‡∏£‡∏∑‡∏≠ SQL connection string
- [ ] ‡πÅ‡∏à‡πâ‡∏á field mapping: SKU ‚Üí field ‡πÑ‡∏´‡∏ô, Qty ‚Üí field ‡πÑ‡∏´‡∏ô
- [ ] ‡πÅ‡∏à‡πâ‡∏á authentication method

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 7-10 ‡∏ß‡∏±‡∏ô (‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ format)

---

#### 3.3 ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 100+ ‡∏ä‡∏¥‡πâ‡∏ô ‚Äî Multi-Photo Strategy

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß (‡πÄ‡∏ä‡πà‡∏ô Mark) ‡∏°‡∏µ‡πÄ‡∏õ‡πá‡∏ô 100 ‡∏ä‡∏¥‡πâ‡∏ô ‚Üí ‡∏Å‡∏≤‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

**‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ô‡∏≠**:

##### Option A: ‡∏ñ‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ ‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏° (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

- ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà 1 (‡πÄ‡∏ä‡πà‡∏ô 20 ‡∏ä‡∏¥‡πâ‡∏ô)
- ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà 2 (‡πÄ‡∏ä‡πà‡∏ô 25 ‡∏ä‡∏¥‡πâ‡∏ô)
- ... ‡∏ñ‡πà‡∏≤‡∏¢‡∏à‡∏ô‡∏Ñ‡∏£‡∏ö
- AI ‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏£‡∏π‡∏õ
- ‡πÅ‡∏Å‡πâ flow ‡πÄ‡∏õ‡πá‡∏ô: Camera ‚Üí ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ ‚Üí "‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°" ‡∏´‡∏£‡∏∑‡∏≠ "‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô" ‚Üí AI ‡∏£‡∏ß‡∏°‡∏ú‡∏•

```typescript
interface MultiPhotoSession {
  id: string;
  productId: string;
  photos: Array<{
    imageUrl: string;
    aiCount: number;
    capturedAt: Timestamp;
  }>;
  totalAiCount: number; // ‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡∏£‡∏π‡∏õ
  totalManualCount: number; // ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏ö‡πÄ‡∏≠‡∏á
}
```

##### Option B: ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏£‡∏ß‡∏° + ‡∏ô‡∏±‡∏ö‡∏°‡∏∑‡∏≠

- ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ overview 1 ‡∏£‡∏π‡∏õ
- ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏á
- ‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ AI verification

**‡∏£‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢**: ‡πÅ‡∏à‡πâ‡∏á‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô 100+ ‡∏ä‡∏¥‡πâ‡∏ô ‚Üí ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö specific solution

**‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£**: 4-5 ‡∏ß‡∏±‡∏ô

---

### Phase 4: ‡∏£‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

#### 4.1 ‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö

- **‡∏£‡∏≠**: ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏∏‡∏Å‡∏°‡∏¥‡∏ï‡∏¥ (‡∏ä‡∏±‡∏î‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°)
- **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ**: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Ç‡πâ‡∏≤ Firebase Storage ‚Üí ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `products/{id}/imageUrl`
- **‡∏™‡∏£‡πâ‡∏≤‡∏á script**: `scripts/update-product-images.ts` ‡∏ó‡∏µ‡πà batch upload ‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå

#### 4.2 ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤/‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô Production

- **‡∏£‡∏≠**: CSV/Excel ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢ (‡∏™‡∏≤‡∏Ç‡∏≤, ‡∏ä‡∏∑‡πà‡∏≠ BA, ‡∏ä‡∏∑‡πà‡∏≠ Supervisor, Email ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
- **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ**:
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á `scripts/seed-production-branches.ts`
  - ‡∏™‡∏£‡πâ‡∏≤‡∏á `scripts/seed-production-users.ts`
  - ‡∏™‡πà‡∏á invitation email ‡πÉ‡∏´‡πâ BA + Supervisor ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

#### 4.3 Format ITP

- **‡∏£‡∏≠**: ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢‡∏™‡πà‡∏á format + ‡∏Ñ‡∏∏‡∏ì‡∏û‡∏≠‡∏•‡∏ó‡∏≥‡∏ñ‡∏±‡∏á‡∏Å‡∏•‡∏≤‡∏á
- **‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ**: ‡∏™‡∏£‡πâ‡∏≤‡∏á export adapter ‡∏ï‡∏≤‡∏° format

---

## ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤ (‡∏≠‡∏±‡πâ‡∏ô)

1. **Lock 2 ‡∏ß‡∏±‡∏ô ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡πÅ‡∏ô‡πà?**
   - ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡πÅ‡∏•‡∏∞ 16 ‡πÄ‡∏•‡∏¢? ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤?
   - ‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡∏°‡∏µ.‡∏Ñ. ‚Üí ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö 16-28 ‡∏Å.‡∏û.? ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: Lock ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‚Üí ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ

2. **Grace period +5 ‡∏ß‡∏±‡∏ô ‚Äî ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏°‡∏£‡∏≠‡∏ö?**
   - ‡∏£‡∏≠‡∏ö 1-15 ‡∏°‡∏µ.‡∏Ñ. + grace 5 ‡∏ß‡∏±‡∏ô = ‡∏ñ‡πà‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á 20 ‡∏°‡∏µ.‡∏Ñ.
   - ‡πÅ‡∏ï‡πà 16-20 ‡∏°‡∏µ.‡∏Ñ. ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà (16-31 ‡∏°‡∏µ.‡∏Ñ.) ‡∏î‡πâ‡∏ß‡∏¢
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: ‡πÉ‡∏ä‡πâ `periodId` ‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‚Üí ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏ö‡πÑ‡∏´‡∏ô
   - **UI**: ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡πá‡∏ô "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ" ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 15 ‚Üí ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏Å‡∏î‡∏™‡πà‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á accept ‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ "‡∏™‡πà‡∏á‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤"

3. **Export ITP ‚Äî ‡∏ï‡∏≠‡∏ô‡πÑ‡∏´‡∏ô‡∏™‡πà‡∏á?**
   - ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö?
   - ‡∏´‡∏£‡∏∑‡∏≠ Manual ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏™‡πà‡∏á ITP" ‡πÇ‡∏î‡∏¢ admin?
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: Manual + ‡∏õ‡∏∏‡πà‡∏° "Request" ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ö‡∏≠‡∏Å ‚Üí admin ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á

4. **Qty + Price ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á export**
   - Price ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô? ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ Product model ‡πÑ‡∏°‡πà‡∏°‡∏µ field `price`
   - ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Price ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô? Product master? ‡∏´‡∏£‡∏∑‡∏≠ branch-level pricing?
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: ‡πÄ‡∏û‡∏¥‡πà‡∏° `price` ‡πÉ‡∏ô Product model + import price list ‡∏à‡∏≤‡∏Å Watson module ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏ß‡∏¢)

1. ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 100+ ‡∏ä‡∏¥‡πâ‡∏ô‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏ö‡πâ‡∏≤‡∏á? ‡∏Å‡∏µ‡πà SKU?
2. Format import ‡∏Ç‡∏≠‡∏á ITP ‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£? (Excel? CSV? API?)
3. Qty + Price ‚Üí Price ‡πÉ‡∏ô ITP ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô? Cost price ‡∏´‡∏£‡∏∑‡∏≠ Selling price?
4. ‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏™‡∏≤‡∏Ç‡∏≤? ‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ Excel ‡∏ó‡∏µ‡πà‡∏°‡∏µ: ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤, code, ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà, ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô BA, supervisor
5. Project ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á upload ‡∏ö‡∏¥‡∏• ‚Äî ‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏¥‡∏•‡∏≠‡∏∞‡πÑ‡∏£? ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à? ‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á? ‡∏ö‡∏¥‡∏•‡∏ã‡∏∑‡πâ‡∏≠?

---

## Timeline ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£

```
‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå   1-2:  Phase 1 (Quick Wins) ‚Äî barcode block, export excel, seed data
‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå   3-4:  Phase 2a ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö + grace period
‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå   5-6:  Phase 2b ‚Äî ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î‡∏ö‡∏ô web + ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô + ‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°
‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå   7-9:  Phase 3a ‚Äî Prompt Management
‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå  10-12: Phase 3b ‚Äî ITP Integration (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ format)
‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå  13+:   Phase 4 ‚Äî Multi-photo, Bill upload
```

---

## ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Priority)

| ‡∏•‡∏≥‡∏î‡∏±‡∏ö | ‡∏á‡∏≤‡∏ô                        | ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•                          |
| ----- | -------------------------- | ------------------------------- |
| üî¥ P0 | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤/‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á | ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á         |
| üî¥ P0 | ‡∏ö‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏ã‡∏ü      | ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î            |
| üü† P1 | ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏£‡∏≠‡∏ö + Lock + Grace  | Business logic ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏ö   |
| üü† P1 | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏¢‡∏≠‡∏î‡∏ô‡∏±‡∏ö‡∏ö‡∏ô Web          | Supervisor ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ |
| üü° P2 | Export Excel ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô       | ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£    |
| üü° P2 | ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô  | ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô                   |
| üü° P2 | ‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏•‡∏±‡∏á submit       | ‡πÄ‡∏Ñ‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á              |
| üîµ P3 | Prompt Management          | ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á AI ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô         |
| üîµ P3 | ITP Integration            | ‡∏£‡∏≠ format ‡∏Å‡πà‡∏≠‡∏ô                  |
| üîµ P3 | Multi-photo 100+ ‡∏ä‡∏¥‡πâ‡∏ô      | ‡∏£‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô              |
| ‚ö™ P4 | Upload ‡∏ö‡∏¥‡∏• (project ‡πÉ‡∏´‡∏°‡πà)  | Phase ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ                     |

---

## ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (Modify)

| ‡πÑ‡∏ü‡∏•‡πå                                                                 | ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á                                                |
| -------------------------------------------------------------------- | ------------------------------------------------------------- |
| `types/index.ts`                                                     | ‡πÄ‡∏û‡∏¥‡πà‡∏° CountingPeriod, SupplementSession, PromptTemplate types |
| `services/gemini.service.ts`                                         | ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å hardcoded prompt ‚Üí PromptService                   |
| `services/counting.service.ts`                                       | ‡πÄ‡∏û‡∏¥‡πà‡∏° period-aware logic                                      |
| `app/(mini-apps)/stock-counter/result.tsx`                           | Block save ‡πÄ‡∏°‡∏∑‡πà‡∏≠ barcode mismatch                             |
| `app/(mini-apps)/stock-counter/index.tsx`                            | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô + lock check                             |
| `app/(mini-apps)/stock-counter/history/*`                            | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° "‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°"                                         |
| `platform-web/app/stock-counter/dashboard/attendance/page.tsx`       | ‡πÄ‡∏û‡∏¥‡πà‡∏° Export Excel                                            |
| `platform-web/app/stock-counter/dashboard/counting-summary/page.tsx` | ‡πÄ‡∏û‡∏¥‡πà‡∏° Supervisor override                                     |
| `services/notification.service.ts`                                   | ‡πÄ‡∏û‡∏¥‡πà‡∏° missing check-in notification type                      |

### ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà (New)

| ‡πÑ‡∏ü‡∏•‡πå                                                            | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢                  |
| --------------------------------------------------------------- | ------------------------- |
| `services/counting-period.service.ts`                           | ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö           |
| `services/prompt.service.ts`                                    | Prompt Management service |
| `platform-web/app/stock-counter/dashboard/alerts/page.tsx`      | ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô      |
| `platform-web/app/stock-counter/dashboard/prompts/page.tsx`     | Prompt Management admin   |
| `platform-web/app/api/itp/export/route.ts`                      | ITP export API            |
| `platform-web/app/api/counting-sessions/[id]/override/route.ts` | Override API              |
| `scripts/seed-production-data.ts`                               | Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á         |
| `scripts/update-product-images.ts`                              | ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤           |

---

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡∏°

1. **‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏≤‡∏Ç‡∏≤** ‚Äî ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô User model ‡∏°‡∏µ `branchId` ‡πÄ‡∏õ‡πá‡∏ô single value ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô `branchIds: string[]` ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á `userBranches` sub-collection
2. **‡∏£‡∏∞‡∏ö‡∏ö grace period ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö** ‚Äî ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á countdown ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏î‡πÜ ‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏µ +5 ‡∏ß‡∏±‡∏ô
3. **Watson Excel Validator** ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏≤‡∏à reuse ‡πÑ‡∏î‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ITP format validation
4. **Export infrastructure** (exceljs, jsPDF) ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á library ‡πÉ‡∏´‡∏°‡πà

‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏±‡πã‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏Ç‡∏≠‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏ô‡∏∞

1. **Lock 2 ‡∏ß‡∏±‡∏ô ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡πÅ‡∏ô‡πà?**
   - ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡πÅ‡∏•‡∏∞ 16 ‡πÄ‡∏•‡∏¢? ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤?
   - ‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡∏°‡∏µ.‡∏Ñ. ‚Üí ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö 16-28 ‡∏Å.‡∏û.? ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡πâ‡∏≤‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: Lock ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‚Üí ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ

   ## ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö

   -‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ

2. **Grace period +5 ‡∏ß‡∏±‡∏ô ‚Äî ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏°‡∏£‡∏≠‡∏ö?**
   - ‡∏£‡∏≠‡∏ö 1-15 ‡∏°‡∏µ.‡∏Ñ. + grace 5 ‡∏ß‡∏±‡∏ô = ‡∏ñ‡πà‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á 20 ‡∏°‡∏µ.‡∏Ñ.
   - ‡πÅ‡∏ï‡πà 16-20 ‡∏°‡∏µ.‡∏Ñ. ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà (16-31 ‡∏°‡∏µ.‡∏Ñ.) ‡∏î‡πâ‡∏ß‡∏¢
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: ‡πÉ‡∏ä‡πâ `periodId` ‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‚Üí ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏ö‡πÑ‡∏´‡∏ô
   - **UI**: ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡πá‡∏ô "‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ" ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 15 ‚Üí ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏Å‡∏î‡∏™‡πà‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á accept ‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ "‡∏™‡πà‡∏á‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤"

3. **Export ITP ‚Äî ‡∏ï‡∏≠‡∏ô‡πÑ‡∏´‡∏ô‡∏™‡πà‡∏á?**
   - ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö?
   - ‡∏´‡∏£‡∏∑‡∏≠ Manual ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏™‡πà‡∏á ITP" ‡πÇ‡∏î‡∏¢ admin?
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: Manual + ‡∏õ‡∏∏‡πà‡∏° "Request" ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ö‡∏≠‡∏Å ‚Üí admin ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á

4. **Qty + Price ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á export**
   - Price ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô? ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ Product model ‡πÑ‡∏°‡πà‡∏°‡∏µ field `price`
   - ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° Price ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô? Product master? ‡∏´‡∏£‡∏∑‡∏≠ branch-level pricing?
   - **‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠**: ‡πÄ‡∏û‡∏¥‡πà‡∏° `price` ‡πÉ‡∏ô Product model + import price list ‡∏à‡∏≤‡∏Å Watson module ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

5. **‡πÄ‡∏™‡∏£‡∏¥‡∏° counting-summary**
   - ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î8‡∏ä‡∏¥‡πâ‡∏ô ‚ö† ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô: 11 ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö admin ‡∏à‡∏∞‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà supervisor ‡∏Ñ‡∏∏‡∏°‡∏™‡∏≤‡∏Ç‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡∏≠‡∏¢‡∏π‡πà ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏≠‡∏≤ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà AI ‡∏ô‡∏±‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ô‡∏±‡∏ö
   - ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏´‡∏ô‡πâ‡∏≤ UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö user ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô supervisor ‡πÅ‡∏•‡∏∞ manager ‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏ô‡πà‡πÜ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö
